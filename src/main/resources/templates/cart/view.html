<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:replace="layout :: content">
    <h1>Cart</h1>

    <div th:if="${#lists.isEmpty(items)}">Cart is empty</div>

    <div th:each="it : ${items}">
        <b th:text="${#locale.language == 'uk' ? it.book.nameUa : it.book.nameEn}"></b>
        x <span th:text="${it.qty}"></span>
        = <span th:text="${it.book.price * it.qty}"></span>

        <form th:action="@{'/cart/items/' + ${it.id} + '/remove'}" method="post" style="display:inline;">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
            <button type="submit">Remove</button>
        </form>
    </div>

    <hr/>
    <form th:action="@{/cart/checkout}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button type="submit">Checkout (PAID)</button>
    </form>
</div>
</body>
</html>